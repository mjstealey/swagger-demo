<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.21" />
    <meta name="description" content="Python Client as generated from swagger">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />

    <title>Python Client :: Swagger Demo</title>
    <link href="/swagger-demo/css/nucleus.css" rel="stylesheet">
    <link href="/swagger-demo/css/font-awesome.min.css" rel="stylesheet">
    <link href="/swagger-demo/css/hybrid.css" rel="stylesheet">
    <link href="/swagger-demo/css/featherlight.min.css" rel="stylesheet">
    <link href="/swagger-demo/css/horsey.css" rel="stylesheet">
    <link href="/swagger-demo/css/theme.css" rel="stylesheet">
    <link rel="stylesheet" href="/swagger-demo/css/bootstrap.min.css">
    <script src="/swagger-demo/js/jquery-2.x.min.js"></script>
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>

    

    

  </head>
  <body class="" data-url="/swagger-demo/pythonclient/">
    
<nav id="sidebar" class="">
  <div id="header-wrapper">
    <div id="header">
       
	<p>Swagger Demo</p>
 


    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>
<script type="text/javascript" src="/swagger-demo/js/lunr.min.js"></script>
<script type="text/javascript" src="/swagger-demo/js/horsey.js"></script>
<script type="text/javascript">
    var baseurl = "https:\/\/mjstealey.github.io\/swagger-demo\/";
</script>
<script type="text/javascript" src="/swagger-demo/js/search.js"></script>

    
  </div>

  <div class="highlightable">
    <ul class="topics">
        
            <li data-nav-id="/swagger-demo/" class="dd-item">
            <a href="/swagger-demo/"><i class="fa fa-fw fa-home"></i></a>
            </li>
        

        
        
        
        
        
            
    
    
    
    
        <li data-nav-id="/swagger-demo/swagger/" class="dd-item 
         
        
        "
        >
            <a href="/swagger-demo/swagger/">
                <span>1. What is Swagger?</span>
                
                
            </a>
            
            
            
        </li>
    

        
            
    
    
    
    
        <li data-nav-id="/swagger-demo/smartapi/" class="dd-item 
         
        
        "
        >
            <a href="/swagger-demo/smartapi/">
                <span>2. Swagger vs SmartAPI</span>
                
                
            </a>
            
            
            
        </li>
    

        
            
    
    
    
    
        <li data-nav-id="/swagger-demo/apispec/" class="dd-item 
         
        
        "
        >
            <a href="/swagger-demo/apispec/">
                <span>3. API Specification</span>
                
                
            </a>
            
            
            
        </li>
    

        
            
    
    
    
    
        <li data-nav-id="/swagger-demo/apiserver/" class="dd-item 
         
        
        "
        >
            <a href="/swagger-demo/apiserver/">
                <span>4. API Server</span>
                
                
            </a>
            
            
            
        </li>
    

        
            
    
    
    
    
        <li data-nav-id="/swagger-demo/apiclient/" class="dd-item 
         
        
        "
        >
            <a href="/swagger-demo/apiclient/">
                <span>5. API Client</span>
                
                
            </a>
            
            
            
        </li>
    

        
            
    
    
    
    
        <li data-nav-id="/swagger-demo/exposures/" class="dd-item 
         
        parent
        "
        >
            <a href="/swagger-demo/exposures/">
                <span>6. Exposures API</span>
                
                    
                        <i class="fa fa-angle-down fa-lg category-icon"></i>
                    
                
                
            </a>
            
                
                
                
                    
                
            
            
            
                <ul>
                
                    
    
    
    
    
        <li data-nav-id="/swagger-demo/swaggeryaml/" class="dd-item 
         
        
        "
        >
            <a href="/swagger-demo/swaggeryaml/">
                <span>Swagger YAML file</span>
                
                
            </a>
            
            
            
        </li>
    

                
                    
    
    
    
    
        <li data-nav-id="/swagger-demo/pythonserver/" class="dd-item 
         
        
        "
        >
            <a href="/swagger-demo/pythonserver/">
                <span>Python-Flask Server</span>
                
                
            </a>
            
            
            
        </li>
    

                
                    
    
    
    
    
        <li data-nav-id="/swagger-demo/pythonclient/" class="dd-item 
        active 
        
        "
        >
            <a href="/swagger-demo/pythonclient/">
                <span>Python Client</span>
                
                
            </a>
            
                
                
                
            
            
            
        </li>
    

                
                </ul>
             
        </li>
    

        
            
    
    
    
    
        <li data-nav-id="/swagger-demo/references/" class="dd-item 
         
        
        "
        >
            <a href="/swagger-demo/references/">
                <span>References</span>
                
                
            </a>
            
            
            
        </li>
    

        

        

        
        
        
        <section id="shortcuts">
            
                <li class="" role="">
                    <h3>More</h3>
                    <a href="https://github.com/mjstealey/swagger-demo/"><i class='fa fa-github'></i> mjstealey/swagger-demo</a>
                    
                </li>
            
                <li class="" role="">
                    
                    <a href="https://github.com/mjstealey/exposures-api"><i class='fa fa-github'></i> mjstealey/exposures-api</a>
                    
                </li>
            
                <li class="" role="">
                    
                    <a href="https://github.com/WebsmartAPI"><i class='fa fa-github'></i> WebsmartAPI (smartAPI)</a>
                    
                </li>
            
                <li class="" role="">
                    
                    <a href="https://github.com/swagger-api"><i class='fa fa-github'></i> swagger-api</a>
                    
                </li>
            
                <li class="" role="">
                    
                    <a href="http://smart-api.info"><i class='fa fa-bookmark'></i> smartAPI Documentation</a>
                    
                </li>
            
                <li class="" role="">
                    
                    <a href="http://swagger.io/docs/"><i class='fa fa-bookmark'></i> swagger.io Documentation</a>
                    
                </li>
            
                <li class="" role="">
                    
                    <a href="https://app.swaggerhub.com/"><i class='fa fa-bookmark'></i> swaggerhub</a>
                    
                </li>
            
        </section>    
        
        

        
    </ul>
    
     
    <section id="footer">
      
    </section>
  </div>
</nav>



        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
        
          <div id="top-bar">
            

            <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                <span id="sidebar-toggle-span">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                  </a>
                </span>
                <span id="toc-menu"><a href=""><i class="fa fa-list-alt"></i></a></span>
                <a href="https://mjstealey.github.io/swagger-demo/">
                  <span class="fa fa-arrow-circle-right" style="font-size:larger" aria-hidden="true"></span>
                  Swagger Demo
                </a>
                
                   / <a href='/swagger-demo/exposures/'>6. Exposures API</a> / <a href='/swagger-demo/pythonclient/'>Python Client</a>
                
                
            </div>
            <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#docker-client-extraction">Docker client extraction</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

          </div>
        
        
        <div id="body-inner">
          
            <h1>Python Client</h1>
          




<p>Using the generated python-client code from swagger, we ran the code as suggested in the accompanied documentation.</p>

<pre><code class="language-console">$ cd /PATH/TO/python-client-generated

$ virtualenv -p /usr/local/bin/python3 venv3
Running virtualenv with interpreter /usr/local/bin/python3
Using base prefix '/usr/local/Cellar/python3/3.6.0_1/Frameworks/Python.framework/Versions/3.6'
New python executable in /Users/stealey/Github/irods/swagger-demo/python-client-generated/venv3/bin/python3.6
Also creating executable in /Users/stealey/Github/irods/swagger-demo/python-client-generated/venv3/bin/python
Installing setuptools, pip, wheel...done.

$ source venv3/bin/activate

stealey at dhcp152-54-9-79 in ~/Github/irods/swagger-demo/python-client-generated (master●●)
(venv3)$ pip install -r requirements.txt
Collecting certifi&gt;=14.05.14 (from -r requirements.txt (line 1))
  Using cached certifi-2017.4.17-py2.py3-none-any.whl
Collecting six==1.8.0 (from -r requirements.txt (line 2))
  Using cached six-1.8.0-py2.py3-none-any.whl
Collecting python_dateutil&gt;=2.5.3 (from -r requirements.txt (line 3))
  Using cached python_dateutil-2.6.0-py2.py3-none-any.whl
Requirement already satisfied: setuptools&gt;=21.0.0 in ./venv3/lib/python3.6/site-packages (from -r requirements.txt (line 4))
Collecting urllib3&gt;=1.15.1 (from -r requirements.txt (line 5))
  Using cached urllib3-1.21.1-py2.py3-none-any.whl
Installing collected packages: certifi, six, python-dateutil, urllib3
Successfully installed certifi-2017.4.17 python-dateutil-2.6.0 six-1.8.0 urllib3-1.21.1
</code></pre>

<p>Package dependencies at this point are (<code>$ pip freeze</code>):</p>

<pre><code>certifi==2017.4.17
python-dateutil==2.6.0
six==1.8.0
urllib3==1.21.1
</code></pre>

<p>Based on the <a href="https://github.com/mjstealey/swagger-demo/tree/master/python-client-generated">generated documentation</a> we made a test file named <code>exp-test.py</code> for the &ldquo;GET exposures&rdquo; call.</p>

<pre><code class="language-python"># exp-test.py
import time
import swagger_client
from swagger_client.rest import ApiException
from pprint import pprint

# create an instance of the API class
api_instance = swagger_client.DefaultApi()

try:
    # Get list of exposure types
    api_response = api_instance.exposures_get()
    pprint(api_response)
except ApiException as e:
    print(&quot;Exception when calling DefaultApi-&gt;exposures_get: %s\n&quot; % e)
</code></pre>

<p>And ran it:</p>

<pre><code class="language-console">(venv3)$ python exp-test.py
[{'description': 'exposure to airborne particulates: scores range from 1 (low &lt; '
                '4.0 μg/m3) to 5 (high &gt; 11.37 μg/m3);values returned in μg/m3 '
                'abbreviated as ugm3',
 'exposure_type': 'pm25',
 'has_scores': True,
 'has_values': True,
 'schema_version': '1.0.0',
 'units': 'ugm3'},
 {'description': 'exposure to ozone: scores range from 1 (low ≤ 0.050 ppm) to 5 '
                '(high &gt; 0.125 ppm); values returned in ppm',
 'exposure_type': 'o3',
 'has_scores': True,
 'has_values': True,
 'schema_version': '1.0.0',
 'units': 'ppm'},
 {'description': 'exposure to hazardous waste by facility type (ActiveDisaster; '
                'ActiveSQG; ActiveLQG; ActiveTreatment; InactiveHazard; '
                'Superfund): scores range from 1 (low - residence &gt;50 miles '
                'from site) to 3 (high - residence &lt;1 mile from site); values '
                'returned in miles',
 'exposure_type': 'haz_waste',
 'has_scores': False,
 'has_values': False,
 'schema_version': '1.0.0',
 'units': 'miles'},
 {'description': 'exposure to crime and violence: scores range from 1 (less '
                'crime) – 10 (more crime) relative to national distribution; '
                'values returned as counts per 1000 residents',
 'exposure_type': 'crime',
 'has_scores': False,
 'has_values': False,
 'schema_version': '1.0.0',
 'units': 'count'},
 {'description': 'exposure to residential density: scores range from 1 (pop &gt; '
                '50000) to 3 (pop &lt; 2500); values returned as number of '
                'residents',
 'exposure_type': 'res_den',
 'has_scores': False,
 'has_values': False,
 'schema_version': '1.0.0',
 'units': 'count'},
 {'description': 'exposure to poverty: scores range from 0 (above poverty line) '
                'to 1 (≤ poverty line); values returned as boolean 0 or 1 '
                'corresponding to score',
 'exposure_type': 'poverty',
 'has_scores': False,
 'has_values': False,
 'schema_version': '1.0.0',
 'units': 'boolean'},
 {'description': 'exposure to socioeconomic status: scores range from 1 (high '
                '0%-4.9%) to 4 (low ≥\u200920.0%); values returned as '
                'percentage of US Census-tract population living below the '
                'poverty line',
 'exposure_type': 'ses',
 'has_scores': False,
 'has_values': False,
 'schema_version': '1.0.0',
 'units': 'percent'}]
</code></pre>

<p>This is all well and good, except that the naming of the client package is generically awful as <strong>swagger_client</strong>. This can be changed to be anything, but does default to swagger_client.</p>

<h3 id="docker-client-extraction">Docker client extraction</h3>

<p>If you&rsquo;re working on a system that has <a href="https://www.docker.com/">Docker</a> installed on it, the call to generate the client code for a specific language with a defined name can be made in a single call using the <a href="https://hub.docker.com/r/swaggerapi/swagger-codegen-cli/">swagger-codegen-cli</a> image from Dockerhub.</p>

<pre><code class="language-console">$ docker run --rm -v ${PWD}:/local swaggerapi/swagger-codegen-cli generate \
    -i https://app.swaggerhub.com/apiproxy/schema/file/mjstealey/environmental_exposures_api/1.0.0/swagger.json \
    -l python \
    -o /local/exposures_api \
    -DpackageName=exposures_api

Unable to find image 'swaggerapi/swagger-codegen-cli:latest' locally
latest: Pulling from swaggerapi/swagger-codegen-cli
709515475419: Pull complete
38a1c0aaa6fd: Pull complete
cd134db5e982: Pull complete
65556e756a60: Pull complete
Digest: sha256:f6d1e17752f84e53c8bb2315c243d8fc8dc8fc8bc567de0ffc3f66089a3457df
Status: Downloaded newer image for swaggerapi/swagger-codegen-cli:latest
[main] INFO io.swagger.parser.Swagger20Parser - reading from https://app.swaggerhub.com/apiproxy/schema/file/mjstealey/environmental_exposures_api/1.0.0/swagger.json
[main] WARN io.swagger.codegen.ignore.CodegenIgnoreProcessor - Output directory does not exist, or is inaccessible. No file (.swager-codegen-ignore) will be evaluated.
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/exposures_api/models/coordinate.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/test/test_coordinate.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/docs/Coordinate.md
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/exposures_api/models/date_range.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/test/test_date_range.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/docs/DateRange.md
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/exposures_api/models/exposure.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/test/test_exposure.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/docs/Exposure.md
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/exposures_api/models/exposure_type.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/test/test_exposure_type.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/docs/ExposureType.md
[main] WARN io.swagger.codegen.DefaultCodegen - Empty operationId found for path: get /exposures. Renamed to auto-generated operationId: exposuresGet
[main] WARN io.swagger.codegen.DefaultCodegen - Empty operationId found for path: get /exposures/{exposure_type}/values. Renamed to auto-generated operationId: exposuresExposure_typeValuesGet
[main] WARN io.swagger.codegen.DefaultCodegen - Empty operationId found for path: get /exposures/{exposure_type}/scores. Renamed to auto-generated operationId: exposuresExposure_typeScoresGet
[main] WARN io.swagger.codegen.DefaultCodegen - Empty operationId found for path: get /exposures/{exposure_type}/coordinates. Renamed to auto-generated operationId: exposuresExposure_typeCoordinatesGet
[main] WARN io.swagger.codegen.DefaultCodegen - Empty operationId found for path: get /exposures/{exposure_type}/dates. Renamed to auto-generated operationId: exposuresExposure_typeDatesGet
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/exposures_api/apis/default_api.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/test/test_default_api.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/docs/DefaultApi.md
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/README.md
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/setup.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/tox.ini
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/test-requirements.txt
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/requirements.txt
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/exposures_api/api_client.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/exposures_api/rest.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/exposures_api/configuration.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/exposures_api/__init__.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/exposures_api/models/__init__.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/exposures_api/apis/__init__.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/test/__init__.py
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/git_push.sh
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/.gitignore
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/.travis.yml
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/.swagger-codegen-ignore
[main] INFO io.swagger.codegen.AbstractGenerator - writing file /local/exposures_api/.swagger-codegen/VERSION
</code></pre>

<p>This will generate a new directory named <code>exposures_api</code> with the same contents as the swagger generated client, but with the <strong>exposures_api</strong> naming in place. All generated documentation will also make use of <em>exposures_api</em> instead of <em>swagger_client</em>.</p>

<pre><code class="language-console">$ ls -R exposures_api
README.md             exposures_api         requirements.txt      test                  tox.ini
docs                  git_push.sh           setup.py              test-requirements.txt

exposures_api/docs:
Coordinate.md   DateRange.md    DefaultApi.md   Exposure.md     ExposureType.md

exposures_api/exposures_api:
__init__.py      api_client.py    apis             configuration.py models           rest.py

exposures_api/exposures_api/apis:
__init__.py    default_api.py

exposures_api/exposures_api/models:
__init__.py      coordinate.py    date_range.py    exposure.py      exposure_type.py

exposures_api/test:
__init__.py           test_coordinate.py    test_date_range.py    test_default_api.py   test_exposure.py      test_exposure_type.py
</code></pre>


<footer class=" footline" >
	
	    <i class='fa fa-user'></i> <a href="mailto:michael.j.stealey@gmail.com">Michael J. Stealey</a>  <i class='fa fa-calendar'></i> 01/06/2017
	    </div>
	
</footer>



      </div>
    </div>

    
 
    

    <div id="navigation">
        
        
        
            
            
            
                
                    
                
                
                
            
        
        
            
            
            
                
                    
                
                
                
            
        
        
            
            
            
                
                    
                
                
                
            
        
        
            
            
            
                
                    
                
                
                
            
        
        
            
            
            
                
                    
                
                
                
            
        
        
            
            
            
                
                    
                
                
                
                    
            
            
                
                    
                
                
                
            
        
                
                    
            
            
                
                    
                
                
                
            
        
                
                    
            
            
                
                    
                    
                
                
                
            
        
                
            
        
        
            
            
            
                
                    
                        
                        
                    
                
                
                
            
        
          

        


        
            <a class="nav nav-prev" href="/swagger-demo/pythonserver/" title="Python-Flask Server"> <i class="fa fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/swagger-demo/references/" title="References" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
        
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/swagger-demo/js/clipboard.min.js"></script>
    <script src="/swagger-demo/js/jquery.sticky-kit.min.js"></script>
    <script src="/swagger-demo/js/featherlight.min.js"></script>
    <script src="/swagger-demo/js/html5shiv-printshiv.min.js"></script>
    <script src="/swagger-demo/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/swagger-demo/js/modernizr.custom.71422.js"></script>
    <script src="/swagger-demo/js/learn.js"></script>
    <script src="/swagger-demo/js/hugo-learn.js"></script>

    
    <link href="/swagger-demo/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="/swagger-demo/mermaid/mermaid.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    

    

  </body>
</html>

